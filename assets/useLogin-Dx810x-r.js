import{b as c,r as a}from"./index-BBXoJzDt.js";import{f as u}from"./firebase-import-BUDYfVK1.js";const h=Math.pow(2,32),i=t=>{let e=0;for(let r=0;r<t.length;r+=1){const s=t.charCodeAt(r);e=(31*e+s)%h}return e},f=t=>t<10?`0${t}`:t,d=t=>{if(!t)return!1;const e=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/);if(!e)return!1;const r=e.slice(1);if(r.length!==3)return!1;const[s,n,o]=r.map(Number);return s&&n>=1&&n<=12&&o>=1&&o<=31},g=()=>{const{gameId:t}=c();let e=t;if(!e){const s=new Date;e=[s.getFullYear(),s.getMonth()+1,s.getDate()].map(f).join("-")}const r=i(e.split("").reverse().join(""));return{gameId:e,gameHash:r}},p=()=>{const[t,e]=a.useState(()=>{var s;return((s=u.auth().currentUser)==null?void 0:s.uid)||""}),r=a.useCallback(s=>{e(s?s.uid:"")},[e]);return a.useEffect(()=>u.auth().onAuthStateChanged(r),[r]),{userId:t,path:t?`/users/${t}`:""}};export{p as a,d as i,f as t,g as u};
