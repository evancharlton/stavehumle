(this["webpackJsonpstaver-humle"]=this["webpackJsonpstaver-humle"]||[]).push([[0],{16:function(t,e,n){t.exports={container:"Hive_container__1Zjua",buttonsContainer:"Hive_buttonsContainer__3BlGP",column:"Hive_column__uIVAh"}},25:function(t,e,n){t.exports={wordList:"Found_wordList__kw6ut"}},33:function(t,e,n){},34:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),s=n.n(r),o=n(23),u=n.n(o),a=(n(33),n(34),n(13)),i=n(2),j=function(t){return t<10?"0".concat(t):t},l=function(){var t=Object(i.f)();return Object(r.useEffect)((function(){var e=new Date;t.replace("/".concat([e.getFullYear(),e.getMonth()+1,e.getDate()].map(j).join("-")))}),[t]),null},b=n(7),d=function(t){return fetch(t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()}))},O=function(t){for(var e=0,n=0;n<t.length;n+=1){e=31*e+t.charCodeAt(n)}return e},f=Object(r.createContext)({centerLetter:"",outerLetters:["","","","","",""],all:""}),h=function(t){var e=t.children,n=function(){var t=Object(i.g)().gameId;return{gameId:t,gameHash:O(t)}}().gameHash,s=Object(r.useState)(""),o=Object(b.a)(s,2),u=o[0],a=o[1],j=Object(r.useState)(),l=Object(b.a)(j,2),h=l[0],x=l[1];if(Object(r.useEffect)((function(){d("".concat("","/words/options.json")).then((function(t){return t[n%t.length]})).then(a).catch(x)}),[n]),h)return Object(c.jsx)("div",{children:"Error!"});if(!u)return Object(c.jsx)("div",{children:"Loading ..."});var v=u.split(""),m=v[n%v.length],g=v.filter((function(t){return t!==m}));return Object(c.jsx)(f.Provider,{value:{centerLetter:m,outerLetters:g,all:u},children:e})},x=function(){return Object(r.useContext)(f)},v=Object(r.createContext)({words:[]}),m=function(t){var e=t.children,n=x(),s=n.all,o=n.centerLetter,u=Object(r.useState)([]),a=Object(b.a)(u,2),i=a[0],j=a[1],l=Object(r.useState)(),O=Object(b.a)(l,2),f=O[0],h=O[1];return Object(r.useEffect)((function(){var t=s.substring(0,3),e="".concat("","/words/").concat(t,".json");d(e).then((function(t){return t[s]})).then((function(t){return t.filter((function(t){return t.includes(o)}))})).then(j).catch(h)}),[s,o]),f?Object(c.jsx)("pre",{children:f.message}):0===i.length?Object(c.jsx)("div",{children:"Loading ..."}):Object(c.jsx)(v.Provider,{value:{words:i},children:e})},g=function(){return Object(r.useContext)(v)},p=n(26),_=function(t){return{score:Object(r.useMemo)((function(){return t.map((function(t){return 4===t.length?1:t.length<7?t.length:(7===new Set(t.split("")).size?7:0)+t.length})).reduce((function(t,e){return t+e}),0)}),[t])}},C=function(){return Object(r.useContext)(D)},L=function(){var t=C().found,e=g().words,n=_(t).score,r=_(e).score;return Object(c.jsxs)("h1",{children:[n," / ",r]})},w=n(15),k=n(9),B=n(25),N=n.n(B),S=function(){var t=C().found,e=Object(r.useMemo)((function(){return Object.keys(t.reduce((function(t,e){return Object(k.a)(Object(k.a)({},t),{},Object(w.a)({},e,!0))}),{}))}),[t]);return Object(c.jsx)("ul",{className:N.a.wordList,children:e.map((function(t){return Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://naob.no/s%C3%B8k/".concat(encodeURIComponent(t)),target:"_blank",rel:"noopener noreferrer",children:t})},t)}))})},E=n(27),F=n(17),I=function(t){return t.map((function(t){return{sort:Math.random(),value:t}})).sort((function(t,e){return t.sort-e.sort})).map((function(t){return t.value}))},y=n(8),M=n.n(y),P=function(){var t=C().onGuess,e=x(),n=e.all,s=e.centerLetter,o=e.outerLetters,u=Object(r.useState)(""),a=Object(b.a)(u,2),i=a[0],j=a[1],l=Object(r.useState)((function(){return I(o)})),d=Object(b.a)(l,2),O=d[0],f=d[1],h=Object(r.useRef)("");h.current=i;var v=Object(r.useCallback)((function(){t(h.current),j("")}),[t,h]),m=Object(r.useCallback)((function(t){var e=t.currentTarget.getAttribute("data-letter");j((function(t){return"".concat(t).concat(e)}))}),[j]),g=Object(r.useCallback)((function(){f(I(o))}),[f,o]),p=Object(r.useCallback)((function(){j((function(t){return t.substr(0,t.length-1)}))}),[j]),_=Object(r.useCallback)((function(t){var e=t.key;if("Backspace"!==e){if(" "===e)return g(),void t.preventDefault();"Enter"===e&&v(),n.includes(e)&&j((function(t){return"".concat(t).concat(e)}))}else j((function(t){return t.substring(0,t.length-1)}))}),[n,v,g]);Object(r.useEffect)((function(){return document.addEventListener("keydown",_),function(){document.removeEventListener("keydown",_)}}),[_]);var L=function(t){var e=t.letter,n=t.className,r=Object(E.a)(t,["letter","className"]);return Object(c.jsx)("button",Object(k.a)(Object(k.a)({"data-letter":e,onClick:m,className:[M.a.letterButton,n].filter(Boolean).join(" ")},r),{},{children:e}))},w=function(t){return Object(c.jsx)(L,Object(k.a)(Object(k.a)({},t),{},{className:M.a.centerLetter}))};return Object(c.jsxs)("div",{className:M.a.container,children:[Object(c.jsx)("div",{className:M.a.guess,children:i}),Object(c.jsxs)("div",{className:M.a.letterButtons,children:[Object(c.jsxs)("div",{className:M.a.topRow,children:[Object(c.jsx)(L,{letter:O[0]}),Object(c.jsx)(L,{letter:O[1]})]}),Object(c.jsxs)("div",{className:M.a.middleRow,children:[Object(c.jsx)(L,{letter:O[2]}),Object(c.jsx)(w,{letter:s}),Object(c.jsx)(L,{letter:O[3]})]}),Object(c.jsxs)("div",{className:M.a.bottomRow,children:[Object(c.jsx)(L,{letter:O[4]}),Object(c.jsx)(L,{letter:O[5]})]})]}),Object(c.jsxs)("div",{className:M.a.controls,children:[Object(c.jsx)("button",{onClick:p,children:Object(c.jsx)(F.a,{})}),Object(c.jsx)("button",{onClick:g,children:Object(c.jsx)(F.c,{})}),Object(c.jsx)("button",{onClick:v,children:Object(c.jsx)(F.b,{})})]})]})},H=function(){var t=C().found,e=g().words;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[t.length," / ",e.length]})})},R=n(16),A=n.n(R),D=Object(r.createContext)({found:[],onGuess:function(){}}),G=function(){var t=x(),e=t.all,n=t.centerLetter,s=g().words,o=Object(r.useState)([]),u=Object(b.a)(o,2),a=u[0],i=u[1],j=Object(r.useCallback)((function(t){var c=t.toLocaleLowerCase().split("").filter((function(t){return e.includes(t)})).join("");c.length<4||c.includes(n)&&(a.includes(c)||s.includes(c)&&i((function(t){return[].concat(Object(p.a)(t),[c]).sort()})))}),[e,n,a,s]);return Object(c.jsx)(D.Provider,{value:{found:a,onGuess:j},children:Object(c.jsxs)("div",{className:A.a.container,children:[Object(c.jsx)("div",{className:A.a.buttonsContainer,children:Object(c.jsx)(P,{})}),Object(c.jsxs)("div",{className:A.a.column,children:[Object(c.jsx)(H,{}),Object(c.jsx)(L,{}),Object(c.jsx)(S,{})]})]})})},T=function(){return Object(c.jsx)(h,{children:Object(c.jsx)(m,{children:Object(c.jsx)(G,{})})})},J=function(){return Object(c.jsx)(a.a,{children:Object(c.jsxs)(i.c,{children:[Object(c.jsx)(i.a,{path:"/",exact:!0,children:Object(c.jsx)(l,{})}),Object(c.jsx)(i.a,{path:"/:gameId",children:Object(c.jsx)(T,{})})]})})},Z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),s(t),o(t)}))};u.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),Z()},8:function(t,e,n){t.exports={container:"Buttons_container__1Zt8k",guess:"Buttons_guess__2Anft",letterButton:"Buttons_letterButton__1mMw1",centerLetter:"Buttons_centerLetter__35133",letterButtons:"Buttons_letterButtons__3XtpL",controls:"Buttons_controls__vjaFF"}}},[[40,1,2]]]);
//# sourceMappingURL=main.ec283163.chunk.js.map