(this["webpackJsonpstaver-humle"]=this["webpackJsonpstaver-humle"]||[]).push([[0],{16:function(t,e,n){t.exports={container:"Hive_container__1Zjua",buttonsContainer:"Hive_buttonsContainer__3BlGP",column:"Hive_column__uIVAh"}},26:function(t,e,n){t.exports={wordList:"Found_wordList__kw6ut"}},34:function(t,e,n){},35:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),o=n.n(r),u=n(23),s=n.n(u),a=(n(34),n(35),n(13)),i=n(2),j=function(t){return t<10?"0".concat(t):t},l=function(){var t=Object(i.f)();return Object(r.useEffect)((function(){var e=new Date;t.replace("/".concat([e.getFullYear(),e.getMonth()+1,e.getDate()].map(j).join("-")))}),[t]),null},b=n(7),d=n(25),f=function(t){return fetch(t,{headers:{"Content-Type":"application/json","Content-Encoding":"gzip"}}).then((function(t){return t.arrayBuffer()})).then((function(t){return new Uint8Array(t)})).then((function(t){return d.a.inflate(t)})).then((function(t){return new TextDecoder("utf-8").decode(t)})).then((function(t){return JSON.parse(t)}))},O=function(t){for(var e=0,n=0;n<t.length;n+=1){e=31*e+t.charCodeAt(n)}return e},h=Object(r.createContext)({centerLetter:"",outerLetters:["","","","","",""],all:""}),x=function(t){var e=t.children,n=function(){var t=Object(i.g)().gameId;return{gameId:t,gameHash:O(t)}}().gameHash,o=Object(r.useState)(""),u=Object(b.a)(o,2),s=u[0],a=u[1],j=Object(r.useState)(),l=Object(b.a)(j,2),d=l[0],x=l[1];if(Object(r.useEffect)((function(){f("".concat("","/words/options.json.gz")).then((function(t){return t[n%t.length]})).then(a).catch((function(t){console.error(t),x(t)}))}),[n]),d)return Object(c.jsx)("div",{children:"Error!"});if(!s)return Object(c.jsx)("div",{children:"Loading ..."});var v=s.split(""),g=v[n%v.length],m=v.filter((function(t){return t!==g}));return Object(c.jsx)(h.Provider,{value:{centerLetter:g,outerLetters:m,all:s},children:e})},v=function(){return Object(r.useContext)(h)},g=Object(r.createContext)({words:[]}),m=function(t){var e=t.children,n=v(),o=n.all,u=n.centerLetter,s=Object(r.useState)([]),a=Object(b.a)(s,2),i=a[0],j=a[1],l=Object(r.useState)(),d=Object(b.a)(l,2),O=d[0],h=d[1];return Object(r.useEffect)((function(){var t=o.substring(0,3),e="".concat("","/words/").concat(t,".json.gz");f(e).then((function(t){return t[o]})).then((function(t){return t.filter((function(t){return t.includes(u)}))})).then(j).catch(h)}),[o,u]),O?Object(c.jsx)("pre",{children:O.message}):0===i.length?Object(c.jsx)("div",{children:"Loading ..."}):Object(c.jsx)(g.Provider,{value:{words:i},children:e})},p=function(){return Object(r.useContext)(g)},_=n(27),C=function(t){return{score:Object(r.useMemo)((function(){return t.map((function(t){return 4===t.length?1:t.length<7?t.length:(7===new Set(t.split("")).size?7:0)+t.length})).reduce((function(t,e){return t+e}),0)}),[t])}},w=function(){return Object(r.useContext)(T)},L=function(){var t=w().found,e=p().words,n=C(t).score,r=C(e).score;return Object(c.jsxs)("h1",{children:[n," / ",r]})},k=n(15),B=n(9),N=n(26),S=n.n(N),E=function(){var t=w().found,e=Object(r.useMemo)((function(){return Object.keys(t.reduce((function(t,e){return Object(B.a)(Object(B.a)({},t),{},Object(k.a)({},e,!0))}),{}))}),[t]);return Object(c.jsx)("ul",{className:S.a.wordList,children:e.map((function(t){return Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://naob.no/s%C3%B8k/".concat(encodeURIComponent(t)),target:"_blank",rel:"noopener noreferrer",children:t})},t)}))})},y=n(28),F=n(17),I=function(t){return t.map((function(t){return{sort:Math.random(),value:t}})).sort((function(t,e){return t.sort-e.sort})).map((function(t){return t.value}))},M=n(8),P=n.n(M),A=function(){var t=w().onGuess,e=v(),n=e.all,o=e.centerLetter,u=e.outerLetters,s=Object(r.useState)(""),a=Object(b.a)(s,2),i=a[0],j=a[1],l=Object(r.useState)((function(){return I(u)})),d=Object(b.a)(l,2),f=d[0],O=d[1],h=Object(r.useRef)("");h.current=i;var x=Object(r.useCallback)((function(){t(h.current),j("")}),[t,h]),g=Object(r.useCallback)((function(t){var e=t.currentTarget.getAttribute("data-letter");j((function(t){return"".concat(t).concat(e)}))}),[j]),m=Object(r.useCallback)((function(){O(I(u))}),[O,u]),p=Object(r.useCallback)((function(){j((function(t){return t.substr(0,t.length-1)}))}),[j]),_=Object(r.useCallback)((function(t){var e=t.key;if("Backspace"!==e){if(" "===e)return m(),void t.preventDefault();"Enter"===e&&x(),n.includes(e)&&j((function(t){return"".concat(t).concat(e)}))}else j((function(t){return t.substring(0,t.length-1)}))}),[n,x,m]);Object(r.useEffect)((function(){return document.addEventListener("keydown",_),function(){document.removeEventListener("keydown",_)}}),[_]);var C=function(t){var e=t.letter,n=t.className,r=Object(y.a)(t,["letter","className"]);return Object(c.jsx)("button",Object(B.a)(Object(B.a)({"data-letter":e,onClick:g,className:[P.a.letterButton,n].filter(Boolean).join(" ")},r),{},{children:e}))},L=function(t){return Object(c.jsx)(C,Object(B.a)(Object(B.a)({},t),{},{className:P.a.centerLetter}))};return Object(c.jsxs)("div",{className:P.a.container,children:[Object(c.jsx)("div",{className:P.a.guess,children:i}),Object(c.jsxs)("div",{className:P.a.letterButtons,children:[Object(c.jsxs)("div",{className:P.a.topRow,children:[Object(c.jsx)(C,{letter:f[0]}),Object(c.jsx)(C,{letter:f[1]})]}),Object(c.jsxs)("div",{className:P.a.middleRow,children:[Object(c.jsx)(C,{letter:f[2]}),Object(c.jsx)(L,{letter:o}),Object(c.jsx)(C,{letter:f[3]})]}),Object(c.jsxs)("div",{className:P.a.bottomRow,children:[Object(c.jsx)(C,{letter:f[4]}),Object(c.jsx)(C,{letter:f[5]})]})]}),Object(c.jsxs)("div",{className:P.a.controls,children:[Object(c.jsx)("button",{onClick:p,children:Object(c.jsx)(F.a,{})}),Object(c.jsx)("button",{onClick:m,children:Object(c.jsx)(F.c,{})}),Object(c.jsx)("button",{onClick:x,children:Object(c.jsx)(F.b,{})})]})]})},D=function(){var t=w().found,e=p().words;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[t.length," / ",e.length]})})},H=n(16),R=n.n(H),T=Object(r.createContext)({found:[],onGuess:function(){}}),z=function(){var t=v(),e=t.all,n=t.centerLetter,o=p().words,u=Object(r.useState)([]),s=Object(b.a)(u,2),a=s[0],i=s[1],j=Object(r.useCallback)((function(t){var c=t.toLocaleLowerCase().split("").filter((function(t){return e.includes(t)})).join("");c.length<4||c.includes(n)&&(a.includes(c)||o.includes(c)&&i((function(t){return[].concat(Object(_.a)(t),[c]).sort()})))}),[e,n,a,o]);return Object(c.jsx)(T.Provider,{value:{found:a,onGuess:j},children:Object(c.jsxs)("div",{className:R.a.container,children:[Object(c.jsx)("div",{className:R.a.buttonsContainer,children:Object(c.jsx)(A,{})}),Object(c.jsxs)("div",{className:R.a.column,children:[Object(c.jsx)(D,{}),Object(c.jsx)(L,{}),Object(c.jsx)(E,{})]})]})})},G=function(){return Object(c.jsx)(x,{children:Object(c.jsx)(m,{children:Object(c.jsx)(z,{})})})},J=function(){return Object(c.jsx)(a.a,{children:Object(c.jsxs)(i.c,{children:[Object(c.jsx)(i.a,{path:"/",exact:!0,children:Object(c.jsx)(l,{})}),Object(c.jsx)(i.a,{path:"/:gameId",children:Object(c.jsx)(G,{})})]})})},U=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,u=e.getTTFB;n(t),c(t),r(t),o(t),u(t)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),U()},8:function(t,e,n){t.exports={container:"Buttons_container__1Zt8k",guess:"Buttons_guess__2Anft",letterButton:"Buttons_letterButton__1mMw1",centerLetter:"Buttons_centerLetter__35133",letterButtons:"Buttons_letterButtons__3XtpL",controls:"Buttons_controls__vjaFF"}}},[[41,1,2]]]);
//# sourceMappingURL=main.ca44f898.chunk.js.map