(this["webpackJsonpstaver-humle"]=this["webpackJsonpstaver-humle"]||[]).push([[0],{10:function(e,t,n){e.exports={container:"Grid_container__2Ppj6",grid:"Grid_grid__3JKXm",border:"Grid_border___HdCe",letter:"Grid_letter__1Q4sA",filler:"Grid_filler__2neQo",header:"Grid_header__mz81U",mode:"Grid_mode__iq0BK",active:"Grid_active__1OK2I"}},18:function(e,t,n){e.exports={header:"DatePicker_header__3oWo4",center:"DatePicker_center__3IS8k",monthGrid:"DatePicker_monthGrid__15JAF",dateButton:"DatePicker_dateButton__3t50Y",todayButton:"DatePicker_todayButton__USWS_",currentButton:"DatePicker_currentButton__3kv-Y",dayHeader:"DatePicker_dayHeader__BgL3a"}},20:function(e,t,n){e.exports={container:"Buttons_container__1Zt8k",guess:"Buttons_guess__2Anft",letterButton:"Buttons_letterButton__1mMw1",centerLetter:"Buttons_centerLetter__35133",letterButtons:"Buttons_letterButtons__3XtpL",controls:"Buttons_controls__vjaFF"}},24:function(e,t,n){e.exports={container:"Progress_container__2bfaL",bars:"Progress_bars__19pOs",progressBarContainer:"Progress_progressBarContainer__zq5aQ",progress:"Progress_progress__35HTX",genius:"Progress_genius__CHfIn",currentPoints:"Progress_currentPoints__dgHkL",totalPoints:"Progress_totalPoints__K7MCw",help:"Progress_help__2uPTW"}},29:function(e,t,n){e.exports={avatarButton:"UserDialog_avatarButton__2UVk5",providersContainer:"UserDialog_providersContainer__2CXnF",provider:"UserDialog_provider__1tDdf",buttons:"UserDialog_buttons__1CEoc",logOut:"UserDialog_logOut__1D6Mt"}},30:function(e,t,n){e.exports={container:"DeleteAccountButton_container__kirpF",buttons:"DeleteAccountButton_buttons__1JEsG",deleteAccount:"DeleteAccountButton_deleteAccount__2PX7Q",cancelButton:"DeleteAccountButton_cancelButton__2T8gP",confirmButton:"DeleteAccountButton_confirmButton__Qftem"}},33:function(e,t,n){e.exports={button:"HeaderButton_button__2v-ld"}},36:function(e,t,n){e.exports={header:"Modal_header__2ZLRN",footer:"Modal_footer__3LLGM",contents:"Modal_contents__2N7hF",modalBackground:"Modal_modalBackground__gT2gd",modal:"Modal_modal__lEGX8"}},37:function(e,t,n){e.exports={header:"Header_header__Yh4QF",buttons:"Header_buttons__2PlOg",right:"Header_right__2Q-W6",left:"Header_left__kDMZq"}},50:function(e,t,n){e.exports={container:"Messages_container__r77DS",pangram:"Messages_pangram__2KAkr",points:"Messages_points__2PKAz"}},51:function(e,t,n){e.exports={container:"Hive_container__1Zjua",gameContainer:"Hive_gameContainer__23RNb",buttonsContainer:"Hive_buttonsContainer__3BlGP"}},52:function(e,t,n){e.exports={container:"WordList_container__3HxBt",wordList:"WordList_wordList__27YZp",content:"WordList_content__1GVCz",buttons:"WordList_buttons__2CPkS"}},53:function(e,t,n){e.exports={word:"Word_word__391Ih",revealed:"Word_revealed__18kLo",pangram:"Word_pangram__sghFn"}},57:function(e,t,n){e.exports={container:"Loading_container__3Q6Jl",ldsRipple:"Loading_ldsRipple__3LZlq"}},61:function(e,t,n){e.exports={reveal:"RevealButton_reveal__1V7u7",revealContainer:"RevealButton_revealContainer__1AyJ9"}},62:function(e,t,n){e.exports={column:"Sidebar_column__1BssC",header:"Sidebar_header__24dGv"}},67:function(e,t,n){e.exports={button:"GridInfo_button__348Wh"}},68:function(e,t,n){e.exports={button:"WordsInfo_button__2hHAV"}},73:function(e,t,n){},74:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n.n(r),a=n(25),s=n.n(a),o=(n(73),n(74),n(31)),i=n(9),l=n(6),u=n(48),d=n(4),j=n(12),b=n(20),f=n.n(b),h=function(){Object(r.useEffect)((function(){return document.body.classList.add("no-scroll"),function(){document.body.classList.remove("no-scroll")}}),[])},O=n(57),v=n.n(O),g=n(1),m=function(){return h(),Object(g.jsx)("div",{className:v.a.container,children:Object(g.jsxs)("div",{className:v.a.ldsRipple,children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})})},x=n(8),p=n(34),_=n(64),k=function(e){return fetch(e,{headers:{"Content-Type":"application/json","Content-Encoding":"gzip"}}).then((function(e){return e.arrayBuffer()})).then((function(e){return new Uint8Array(e)})).then((function(e){return _.a.inflate(e)})).then((function(e){return new TextDecoder("utf-8").decode(e)})).then((function(e){return JSON.parse(e)}))},w=Math.pow(2,32),C=function(e){for(var t=0,n=0;n<e.length;n+=1){t=(31*t+e.charCodeAt(n))%w}return t},N=function(e){return e<10?"0".concat(e):e},y=function(){var e=Object(i.g)().gameId;if(!e){var t=new Date;e=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(N).join("-")}var n=C(e.split("").reverse().join(""));return{gameId:e,gameHash:n}},B=n(40),S=Object(x.b)({key:"game/puzzleId",default:""}),L=Object(x.c)({key:"game/letters",get:function(e){var t=(0,e.get)(S),n=t.split(""),r=Object(B.a)(n);return{centerLetter:r[0],outerLetters:r.slice(1),all:t.split("").sort().join("")}}}),E=Object(x.b)({key:"game/words",default:[]}),D=Object(x.b)({key:"game/words/found",default:{}}),P=function(){var e=Object(x.d)(S),t=Object(x.d)(L);return Object(l.a)(Object(l.a)({},t),{},{puzzleId:e})},I=function(){return["nb-no","saved",Object(x.d)(S)].join("/")},M=n(49);n(81),n(83);0===M.a.apps.length&&M.a.initializeApp({apiKey:"AIzaSyBYTeM84x71LjRl3-a8TIOHX1tlyiy_5ik",authDomain:"stavehumle.firebaseapp.com",databaseURL:"https://stavehumle-default-rtdb.europe-west1.firebasedatabase.app",projectId:"stavehumle",storageBucket:"stavehumle.appspot.com",messagingSenderId:"852736381893",appId:"1:852736381893:web:be9b224f46ba1ed92871ac"});var F=M.a,A=function(){var e=Object(r.useState)((function(){var e;return(null===(e=F.auth().currentUser)||void 0===e?void 0:e.uid)||""})),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useCallback)((function(e){c(e?e.uid:"")}),[c]);return Object(r.useEffect)((function(){return F.auth().onAuthStateChanged(a)}),[a]),{userId:n,path:n?"/users/".concat(n):""}},H=n(13),G=n(14),z=n(21),R=n(22),T=n(35),W="found-word",U=function(e){Object(z.a)(n,e);var t=Object(R.a)(n);function n(e,r,c){return Object(G.a)(this,n),t.call(this,W,{detail:{word:e,when:r,source:c}})}return n}(Object(T.a)(CustomEvent)),J=function(e){Object(r.useEffect)((function(){var t=function(t){var n=t.detail;e(n)};return window.addEventListener(W,t),function(){window.removeEventListener(W,t)}}),[e])},Y=function(e){var t=e.children,n=e.node,c=Object(r.useCallback)((function(e){var t=e.word,r=e.when;"local"===e.source&&F.database().ref(n).update(Object(H.a)({},t,r))}),[n]);return J(c),Object(g.jsx)(g.Fragment,{children:t})},K=function(){return{words:Object(x.d)(E)}},Q=function(e){var t=e.children,n=e.node,c=Object(x.d)(D),a=K().words,s=Object(r.useCallback)((function(e){var t=e.key;if(t){if(!c[t]){var n=e.val();if(a.includes(t)){var r=Date.parse(n);void 0!==r?window.dispatchEvent(new U(t,new Date(r),"remote")):console.warn('"'.concat(t,"\" didn't have a valid date (").concat(n,")"))}else console.warn('"'.concat(t,'" is not a recognized word'))}}else console.warn("No key specified")}),[a,c]);return Object(r.useEffect)((function(){var e=F.database().ref(n);return e.on("child_added",s),function(){e.off("child_added",s)}}),[s,n]),Object(g.jsx)(g.Fragment,{children:t})},X=function e(t){try{var n=localStorage.getItem(t);if(n){var r=JSON.parse(n);if(Array.isArray(r)){localStorage.setItem("backup/".concat(t),n);var c=r.filter((function(e){return"string"===typeof e})).reduce((function(e,t,n){return Object(l.a)(Object(l.a)({},e),{},Object(H.a)({},t,new Date(n)))}),{});return localStorage.setItem(t,JSON.stringify(c)),e(t)}return Object.entries(r).filter((function(e){var t=Object(d.a)(e,2);t[0];return!!t[1]})).reduce((function(e,t){var n=Object(d.a)(t,2),r=n[0],c=n[1];return Object(l.a)(Object(l.a)({},e),{},Object(H.a)({},r,c))}),{})}}catch(a){}return{}},Z=function(e){var t=e.children,n=(e.node,A().path);return Object(r.useEffect)((function(){for(var e={},t=0;t<localStorage.length;t+=1){var r=localStorage.key(t);if(r&&!r.startsWith("backup")){if(r.includes("/saved/")){var c=X(r);if(0===Object.keys(c).length)continue;e[r]=c}r.includes("/revealed/")&&(e[r]=localStorage.getItem(r))}}console.log(Object.keys(e)),0!==Object.keys(e).length&&F.database().ref(n).update(e)}),[n]),Object(g.jsx)(g.Fragment,{children:t})},V=function(e){var t=e.children,n=e.node,c=K().words;return Object(r.useEffect)((function(){F.database().ref(n).once("value").then((function(e){if(e.exists()){var t=c.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(H.a)({},t,!0))}),{}),n={},r=e.val();Object.entries(r).forEach((function(e){var r=Object(d.a)(e,2),c=r[0],a=r[1];if(t[c]){var s=Date.parse(a);void 0!==s?n[c]=new Date(s):console.warn('"'.concat(c,'" as an invalid date (').concat(a,")"))}else console.warn('"'.concat(c,'" is not a recognized word'))})),Object.entries(n).sort((function(e,t){var n=Object(d.a)(e,2),r=(n[0],n[1]),c=Object(d.a)(t,2);c[0];return+r-+c[1]})).forEach((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];window.dispatchEvent(new U(n,r,"remote"))}))}}))}),[n,c]),Object(g.jsx)(g.Fragment,{children:t})},q=function(e){var t=e.children,n=I(),r=A().userId;if(!r)return Object(g.jsx)(g.Fragment,{children:t});var c="/users/".concat(r,"/").concat(n);return Object(g.jsx)(Z,{node:c,children:Object(g.jsx)(Y,{node:c,children:Object(g.jsx)(V,{node:c,children:Object(g.jsx)(Q,{node:c,children:Object(g.jsx)(g.Fragment,{children:t})})})})})},$=function(e){var t=e.children,n=I(),c=Object(x.e)(D);Object(r.useEffect)((function(){c(X(n))}),[n,c]);var a=Object(r.useCallback)((function(e){var t=e.word,r=e.when;c((function(e){var c=Object(l.a)(Object(l.a)({},e),{},Object(H.a)({},t,r));return localStorage.setItem(n,JSON.stringify(c)),c}))}),[n,c]);return J(a),Object(g.jsx)(g.Fragment,{children:t})},ee=function(e){var t=e.children,n=function(){var e=y().gameHash,t=Object(r.useState)(),n=Object(d.a)(t,2),c=n[0],a=n[1],s=Object(x.e)(S);return Object(r.useEffect)((function(){k("".concat("/staver-humle","/words/options.json.gz")).then((function(t){return t[e%t.length]})).then((function(t){var n=t.split(""),r=n[e%n.length],c=n.filter((function(e){return e!==r}));return[r].concat(Object(p.a)(c.sort())).join("")})).then((function(e){return s(e)})).catch((function(e){console.error(e),a(e)}))}),[e,s]),{error:c}}().error,c=function(){var e=P(),t=e.all,n=e.centerLetter,c=Object(x.e)(E),a=Object(r.useState)(),s=Object(d.a)(a,2),o=s[0],i=s[1];return Object(r.useEffect)((function(){if(t){var e=t.substring(0,3),r="".concat("/staver-humle","/words/").concat(e,".json.gz");return k(r).then((function(e){return e[t]})).then((function(e){return e.filter((function(e){return e.includes(n)}))})).then(c).catch(i),function(){c([])}}}),[t,n,c]),{error:o}}().error;return Object(x.d)(E).length?n?Object(g.jsx)("div",{children:"Error loading the letters"}):c?(console.error(c),Object(g.jsx)("div",{children:"Error loading the words"})):Object(g.jsx)($,{children:Object(g.jsx)(q,{children:t})}):Object(g.jsx)(m,{})},te=function(){return{found:Object(x.d)(D)}},ne=function(e){return 7===new Set(e.split("")).size},re=function(e){if(e.length<4)return 0;if(4===e.length)return 1;var t=ne(e)?7:0;return e.length+t},ce=function(e){return{score:Object(r.useMemo)((function(){return e.map((function(e){return re(e)})).reduce((function(e,t){return e+t}),0)}),[e])}},ae=function(){var e=te().found,t=P(),n=t.all,c=t.centerLetter,a=K().words;return{onGuess:Object(r.useCallback)((function(t){if(t){var r=t.toLocaleLowerCase().split("").filter((function(e){return n.includes(e)})).join("");r.length===t.length?r.length<4?dispatchEvent(new CustomEvent("bad-guess",{detail:"too-short"})):r.includes(c)?e[r]?dispatchEvent(new CustomEvent("bad-guess",{detail:"already-found"})):a.includes(r)?dispatchEvent(new U(r,new Date,"local")):dispatchEvent(new CustomEvent("bad-guess",{detail:"unknown-word"})):dispatchEvent(new CustomEvent("bad-guess",{detail:"missing-center"})):dispatchEvent(new CustomEvent("bad-guess",{detail:"invalid-letters"}))}}),[n,c,e,a]),found:Object.keys(e)}},se=function(e){return e.map((function(e){return{sort:Math.random(),value:e}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value}))},oe=function(){var e=P().outerLetters,t=Object(r.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],s=Object(r.useCallback)((function(){a(se(e))}),[e]);return Object(r.useEffect)((function(){a(se(e))}),[e,a]),{shuffled:c,reshuffle:s}},ie=function(){var e=P(),t=e.centerLetter,n=e.outerLetters,c=["nb-no","revealed",[t].concat(Object(p.a)(n)).join("")].join("/"),a=Object(r.useState)(!1),s=Object(d.a)(a,2),o=s[0],i=s[1];Object(r.useEffect)((function(){var e=localStorage.getItem(c);i(!!e)}),[c,i]);var l=Object(r.useCallback)((function(){localStorage.setItem(c,(new Date).toISOString()),window.dispatchEvent(new CustomEvent("revealed",{detail:c}))}),[c]),u=Object(r.useCallback)((function(e){e.detail===c&&i(!0)}),[c,i]);return Object(r.useEffect)((function(){return window.addEventListener("revealed",u),function(){window.removeEventListener("revealed",u)}}),[u]),{revealed:o,revealAnswers:l}},le=function(){var e=ae().onGuess,t=P(),n=t.all,c=t.centerLetter,a=t.outerLetters,s=Object(r.useState)(""),o=Object(d.a)(s,2),i=o[0],b=o[1],h=oe(),O=h.shuffled,v=h.reshuffle,m=ie().revealed,x=Object(r.useRef)("");x.current=i,Object(r.useEffect)((function(){x.current="",b("")}),[a,c]);var p=Object(r.useCallback)((function(){e(x.current),b("")}),[e,x]),_=Object(r.useCallback)((function(e){var t=e.currentTarget.getAttribute("data-letter");b((function(e){return"".concat(e).concat(t)}))}),[b]),k=Object(r.useCallback)((function(){b((function(e){return e.substr(0,e.length-1)}))}),[b]),w=Object(r.useCallback)((function(e){var t=e.key;if(!m)if("Backspace"!==t){if(" "===t)return v(),void e.preventDefault();"Enter"===t&&p(),n.includes(t.toLocaleLowerCase())&&b((function(e){return"".concat(e).concat(t)}))}else b((function(e){return e.substring(0,e.length-1)}))}),[n,p,v,m]);Object(r.useEffect)((function(){return document.addEventListener("keydown",w),function(){document.removeEventListener("keydown",w)}}),[w]);var C=function(e){var t=e.letter,n=e.className,r=Object(u.a)(e,["letter","className"]);return Object(g.jsx)("button",Object(l.a)(Object(l.a)({"data-letter":t,onClick:_,className:[f.a.letterButton,n].filter(Boolean).join(" ")},r),{},{disabled:m,children:t}))},N=function(e){return Object(g.jsx)(C,Object(l.a)(Object(l.a)({},e),{},{className:f.a.centerLetter}))};return Object(g.jsxs)("div",{className:f.a.container,children:[Object(g.jsx)("div",{className:f.a.guess,children:i||Object(g.jsx)(g.Fragment,{children:"\xa0"})}),Object(g.jsxs)("div",{className:f.a.letterButtons,children:[Object(g.jsxs)("div",{className:f.a.topRow,children:[Object(g.jsx)(C,{letter:O[0]}),Object(g.jsx)(C,{letter:O[1]})]}),Object(g.jsxs)("div",{className:f.a.middleRow,children:[Object(g.jsx)(C,{letter:O[2]}),Object(g.jsx)(N,{letter:c}),Object(g.jsx)(C,{letter:O[3]})]}),Object(g.jsxs)("div",{className:f.a.bottomRow,children:[Object(g.jsx)(C,{letter:O[4]}),Object(g.jsx)(C,{letter:O[5]})]})]}),Object(g.jsxs)("div",{className:f.a.controls,children:[Object(g.jsx)("button",{disabled:m,onClick:k,"aria-label":"baksiden",children:Object(g.jsx)(j.e,{})}),Object(g.jsx)("button",{disabled:m,onClick:v,"aria-label":"tilfeldig rekkef\xf8lge",children:Object(g.jsx)(j.g,{})}),Object(g.jsx)("button",{disabled:m,onClick:p,"aria-label":"sende inn",children:Object(g.jsx)(j.f,{})})]})]})},ue=n(33),de=n.n(ue),je=n(36),be=n.n(je),fe=function(e){var t=e.children,n=e.title,c=e.onClose;h();var a=Object(r.useCallback)((function(e){"Escape"===e.key&&c()}),[c]);return Object(r.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}),[a]),s.a.createPortal(Object(g.jsx)("div",{className:be.a.modalBackground,onClick:c,children:Object(g.jsxs)("div",{className:be.a.modal,onClick:function(e){return e.stopPropagation()},children:[Object(g.jsxs)("div",{className:be.a.header,children:[Object(g.jsx)("h2",{children:n}),Object(g.jsx)("button",{onClick:c,"aria-label":"lukk vinduet",children:Object(g.jsx)(j.b,{})})]}),Object(g.jsx)("div",{className:be.a.contents,children:t}),Object(g.jsx)("div",{className:be.a.footer,children:Object(g.jsx)("button",{onClick:c,children:"Lukk"})})]})}),document.body)},he=n.p+"static/media/Humle.d54d42c1.svg",Oe=function(e){var t=e.size,n=void 0===t?36:t,r=e.style,c=void 0===r?{}:r;return Object(g.jsx)("img",{src:he,width:n,height:n,style:Object(l.a)({margin:0,padding:0},c),alt:"Stavehumle ikon"})},ve="info-dialog/has-closed",ge=function(){var e=Object(r.useState)((function(){return!localStorage.getItem(ve)})),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useMemo)((function(){return n?Object(g.jsxs)(fe,{title:"Stavehumle!",onClose:function(){c(!1),localStorage.setItem(ve,(new Date).toISOString())},children:[Object(g.jsx)("p",{children:"Stavehumle er et ordspill hvor du lager s\xe5 mange ord som du kan. Hvert puslespill har syv ulike bokstaver\u2014en fast i midten og seks rundt."}),Object(g.jsx)("h3",{children:"Reglene"}),Object(g.jsx)("p",{children:"Hvert ord:"}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{children:[Object(g.jsx)("strong",{children:"m\xe5 bruke"})," den midterste bokstaven"]}),Object(g.jsxs)("li",{children:["m\xe5 v\xe6re minst ",Object(g.jsx)("strong",{children:"fire bokstaver"})," langt"]}),Object(g.jsxs)("li",{children:["bruker ",Object(g.jsx)("strong",{children:"kun"})," de syv bokstavene",Object(g.jsx)("br",{}),"(men bokstaver kan gjentas)"]})]}),Object(g.jsxs)("p",{children:["Hver puslespill har ",Object(g.jsx)("strong",{children:"minst ett"})," ord som bruker"," ",Object(g.jsx)("strong",{children:"alle bokstavene"}),"."]}),Object(g.jsxs)("p",{children:["Det finnes en ny puslespill ",Object(g.jsx)("strong",{children:"hver dag!"})]}),Object(g.jsx)("p",{children:"Lykke til!"}),Object(g.jsx)("hr",{}),Object(g.jsxs)("p",{children:[Object(g.jsx)(Oe,{size:20})," fra"," ",Object(g.jsx)("a",{href:"https://linkedin.com/in/baharshahriari/",target:"_blank",rel:"noopener noreferrer",children:"Bahar Anvari"})]}),Object(g.jsxs)("p",{children:["(Want to play in English? Try the"," ",Object(g.jsx)("a",{href:"https://www.nytimes.com/puzzles/spelling-bee",target:"_blank",rel:"noopener noreferrer",children:"NYT Spelling Bee"}),"!)"]})]}):null}),[n]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{onClick:function(){return c(!0)},className:de.a.button,"aria-label":"om Stavehumle",children:Object(g.jsx)(j.d,{})}),a]})},me=n(18),xe=n.n(me),pe=n(43),_e=["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],ke=["m","t","o","t","f","l","s"],we=["mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag","sondag"],Ce=function(e){var t=e.onChange,n=e.gameId,c=void 0===n?"":n,a=new Date,s=[a.getFullYear(),a.getMonth(),a.getDate()],o=s[0],i=s[1],l=s[2],u=Object(r.useMemo)((function(){return function(e){if(!e)return!1;var t=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/);if(!t)return!1;var n=t.slice(1);if(3!==n.length)return!1;var r=n.map(Number),c=Object(d.a)(r,3),a=c[0],s=c[1],o=c[2];return a&&s>=1&&s<=12&&o>=1&&o<=31}(c)?new Date(c):null}),[c]),j=Object(r.useState)((u||a).getFullYear()),b=Object(d.a)(j,2),f=b[0],h=b[1],O=Object(r.useState)((u||a).getMonth()),v=Object(d.a)(O,2),m=v[0],x=v[1],p=function(e){return function(){h((function(t){return t+e}))}},_=function(e){return function(){x((function(t){var n=t+e;return n<0?(h((function(e){return e-1})),11):n>=12?(h((function(e){return e+1})),0):n}))}},k=Object(r.useMemo)((function(){for(var e=new Date(f,m,1).getDay(),n=[],r=0;r<7;r+=1)n.push(Object(g.jsx)("div",{className:xe.a.dayHeader,children:ke[r]},"day-".concat(we[r])));for(var c=1;c<e;c+=1)n.push(Object(g.jsx)("div",{className:xe.a.filler,children:"\xa0"},"filler-".concat(c)));for(var a=new Date(f,m+1,0).getDate(),s=function(e){var r=f===o&&m===i&&e===l,c=u&&f===u.getFullYear()&&m===u.getMonth()&&e===u.getDate(),a=[xe.a.dateButton];r&&a.push(xe.a.todayButton),c&&a.push(xe.a.currentButton);var s="velg ".concat(f,"-").concat(m,"-").concat(e);n.push(Object(g.jsx)("button",{className:a.join(" "),onClick:function(){t("".concat(f,"-").concat(N(m+1),"-").concat(N(e)))},"aria-label":s,children:e},"date-".concat(e)))},d=1;d<=a;d+=1)s(d);return Object(g.jsx)("div",{className:xe.a.monthGrid,children:n})}),[f,m,t,u,o,i,l]);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:xe.a.header,children:[Object(g.jsx)("button",{onClick:p(-1),"aria-label":"tilbake ett \xe5r",children:Object(g.jsx)(pe.a,{})}),Object(g.jsx)("button",{onClick:_(-1),"aria-label":"tilbake en m\xe5ned",children:Object(g.jsx)(pe.c,{})}),Object(g.jsxs)("button",{className:xe.a.center,onClick:function(){var e=new Date;h(e.getFullYear()),x(e.getMonth())},children:[Object(g.jsx)("span",{className:xe.a.year,children:f}),"\xa0/\xa0",Object(g.jsx)("span",{className:xe.a.month,children:_e[m]})]}),Object(g.jsx)("button",{onClick:_(1),"aria-label":"frem en m\xe5ned",children:Object(g.jsx)(pe.d,{})}),Object(g.jsx)("button",{onClick:p(1),"aria-label":"frem ett \xe5r",children:Object(g.jsx)(pe.b,{})})]}),k]})},Ne=function(){var e=Object(i.f)(),t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1],s=y().gameId,o=Object(r.useCallback)((function(){a(!1)}),[a]),l=Object(r.useCallback)((function(t){o(),e.push("/".concat(t))}),[o,e]),u=Object(r.useMemo)((function(){return c?Object(g.jsx)(fe,{title:"Velg dato",onClose:function(){return a(!1)},children:Object(g.jsx)(Ce,{onChange:l,gameId:s})}):null}),[c,a,l,s]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{onClick:function(){return a(!0)},className:de.a.button,"aria-label":"velg en annen dato",children:Object(g.jsx)(j.h,{})}),u]})},ye=n(37),Be=n.n(ye),Se=n(66),Le=n(60),Ee=n(29),De=n.n(Ee),Pe=(n(30),function(){var e=A().userId,t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(!0),i=Object(d.a)(o,2),l=i[0],u=i[1],j=Object(r.useCallback)((function(){u(!1),a(!1)}),[u]),b=Object(r.useCallback)((function(e){a(!0),F.auth().signInWithPopup(e).catch(console.error).finally((function(){return a(!1)}))}),[]),f=Object(r.useCallback)((function(){var e=F.auth().currentUser;e&&(a(!0),F.database().ref("/users/".concat(e.uid)).set(null).then((function(){return e.delete()})).then((function(){return a(!1)})))}),[]),h=Object(r.useMemo)((function(){if(!l)return null;var t="",n=null;if(e){t="Din konto",n=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:"Du er n\xe5 logget inn -- fremgangen din er lagret og vil v\xe6re tilgjengelig p\xe5 andre enheter hvor du er logget inn."}),Object(g.jsx)("p",{children:"Hvis du logger ut, fremgangen din vil bli lagret til neste gang."}),Object(g.jsx)("div",{className:De.a.buttons,children:Object(g.jsx)("button",{onClick:function(){return F.auth().signOut()},className:De.a.logOut,children:"Logg ut"})}),false]})}else t="Lagre fremgangen",n=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:"Hvis du logger p\xe5, er det mulig \xe5 l\xf8se puslespillet p\xe5 flere enheter. Finn ord p\xe5 mobil p\xe5 bussen, og fortsett spille hjemme p\xe5 datamaskinen!"}),Object(g.jsxs)("div",{className:De.a.providersContainer,children:[Object(g.jsx)("button",{className:De.a.provider,disabled:c,onClick:function(){return b(new F.auth.GoogleAuthProvider)},children:Object(g.jsx)(Le.b,{})}),Object(g.jsx)("button",{className:De.a.provider,disabled:c,onClick:function(){return b(new F.auth.GithubAuthProvider)},children:Object(g.jsx)(Le.a,{})})]})]});return Object(g.jsx)(fe,{title:t,onClose:j,children:n})}),[l,j,e,c,b,f]),O=s.a.createPortal(h,document.body);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{onClick:function(){return u(!0)},className:[De.a.avatarButton,de.a.button].join(" "),children:Object(g.jsx)(Se.a,{})}),O]})}),Ie=function(){return Object(g.jsxs)("div",{className:Be.a.header,children:[Object(g.jsxs)("h1",{children:[Object(g.jsx)(o.b,{to:"/",children:"Stavehumle"}),Object(g.jsx)(Oe,{})]}),Object(g.jsx)("div",{className:[Be.a.buttons,Be.a.left].join(" "),children:Object(g.jsx)(Ne,{})}),Object(g.jsxs)("div",{className:[Be.a.buttons,Be.a.right].join(" "),children:[Object(g.jsx)(Pe,{}),Object(g.jsx)(ge,{})]})]})},Me=function(e){var t="";switch(e.reason){case"already-found":t="ordet har blitt allerede funnet";break;case"invalid-letters":t="bruker ugyldige bokstaver";break;case"missing-center":t="mangler obligatorisk bokstaven";break;case"too-short":t="for kort";break;case"unknown-word":t="ukjent ord";break;default:return null}return Object(g.jsx)("span",{children:t})},Fe=n(50),Ae=n.n(Fe),He=function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useRef)(),s=Object(r.useCallback)((function(e){c(e),a.current&&clearTimeout(a.current),a.current=e?setTimeout((function(){c(void 0),a.current=null}),2500):null}),[a,c]),o=Object(r.useCallback)((function(e){var t=e.detail;s(t)}),[s]),i=Object(r.useCallback)((function(e){var t=e.word;"local"===e.source&&(ne(t)?s({points:re(t),isPangram:!0}):s({points:re(t)}))}),[s]);Object(r.useEffect)((function(){return window.addEventListener("bad-guess",o),function(){window.removeEventListener("bad-guess",o)}}),[o]),J(i);var l=Object(r.useMemo)((function(){return n?(e=n)&&e.isPangram?Object(g.jsxs)("span",{className:Ae.a.pangram,children:["Pangram!",Object(g.jsx)("br",{}),"+",n.points," poeng"]}):function(e){return!(!e||!e.points)}(n)?Object(g.jsxs)("span",{className:Ae.a.points,children:["+",n.points," poeng"]}):Object(g.jsx)(Me,{reason:n}):null;var e}),[n]);return Object(g.jsx)("div",{className:Ae.a.container,children:l})},Ge=n(51),ze=n.n(Ge),Re=n(10),Te=n.n(Re),We=Object(g.jsx)("span",{className:Te.a.filler,children:"\u2013"}),Ue=function(e){for(var t=e.words,n=Object(d.a)(e.range,2),r=n[0],c=n[1],a=P().all,s=[Object(g.jsx)("th",{children:"\xa0"},"blank")],o=[],i=function(e){s.push(Object(g.jsx)("th",{children:e},e));var n=t.filter((function(t){return t.length===e})).length;o.push(Object(g.jsx)("td",{children:n||We},"total @ ".concat(e)))},l=r;l<=c;l+=1)i(l);s.push(Object(g.jsx)("th",{children:"\u03a3"},"column-sum"));for(var u=[],j=function(e){for(var n=a[e],s=t.filter((function(e){return e[0]===n})),o=[Object(g.jsx)("td",{className:[Te.a.border,Te.a.letter].join(" "),children:n},n)],i=function(e){var t=s.filter((function(t){return t.length===e})).length;o.push(Object(g.jsx)("td",{children:t||We},"".concat(n," @ ").concat(e)))},l=r;l<=c;l+=1)i(l);o.push(Object(g.jsx)("td",{className:Te.a.border,children:s.length||We},"".concat(n," @ total"))),u.push(Object(g.jsx)("tr",{children:o},"row-".concat(n)))},b=0;b<a.length;b+=1)j(b);return u.push(Object(g.jsxs)("tr",{className:Te.a.border,children:[Object(g.jsx)("td",{children:"\u03a3"}),o,Object(g.jsx)("td",{children:t.length})]},"row-totals")),Object(g.jsxs)("table",{className:Te.a.grid,children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{className:Te.a.border,children:s})}),Object(g.jsx)("tbody",{children:u})]})},Je=n(67),Ye=n.n(Je),Ke=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useMemo)((function(){return n?Object(g.jsxs)(fe,{title:"Oversikt",onClose:function(){return c(!1)},children:[Object(g.jsx)("p",{children:"Oversikten er et verkt\xf8y for \xe5 hjelpe deg \xe5 finne alle ordene i puslespillet. Radene viser antall ord som starter med en viss bokstav, og kolonnene viser antall ord av hver lengde."}),Object(g.jsx)("p",{children:"Oversikten viser ogs\xe5 antall ord totalt. Lykke til med \xe5 finne alt!"})]}):null}),[n,c]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{className:Ye.a.button,onClick:function(){return c(!0)},"aria-label":"Oversikten hjelp",children:Object(g.jsx)(j.c,{})}),a]})},Qe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},Xe=function(){var e=ae().found,t=K().words,n=Object(r.useState)("remaining"),c=Object(d.a)(n,2),a=c[0],s=c[1],o=Object(r.useMemo)((function(){if("all"===a)return t;if("found"===a)return e;var n=e.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(H.a)({},t,!0))}),{});return t.filter((function(e){return!n[e]}))}),[a,t,e]),i=t.reduce((function(e,t){var n=Object(d.a)(e,2),r=n[0],c=n[1];return[Math.min(r,t.length),Math.max(c,t.length)]}),[1e3,3]);return Object(g.jsxs)("div",{className:Te.a.container,children:[Object(g.jsxs)("div",{className:Te.a.header,children:[Object(g.jsx)("button",{onClick:function(){return s("found")},className:Qe(Te.a.mode,Te.a.found,"found"===a&&Te.a.active),children:"Funnet"}),Object(g.jsx)("button",{onClick:function(){return s("remaining")},className:Qe(Te.a.mode,Te.a.remaining,"remaining"===a&&Te.a.active),children:"Gjenst\xe5r"}),Object(g.jsx)("button",{onClick:function(){return s("all")},className:Qe(Te.a.mode,Te.a.all,"all"===a&&Te.a.active),children:"Alt"}),Object(g.jsx)(Ke,{})]}),Object(g.jsx)(Ue,{range:i,words:o})]})},Ze=n(24),Ve=n.n(Ze),qe=function(){var e=ae().found,t=K().words,n=ce(e).score,c=ce(t).score,a=Object(r.useState)(!1),s=Object(d.a)(a,2),o=s[0],i=s[1],l=Object(r.useMemo)((function(){return o?Object(g.jsxs)(fe,{title:"Poeng",onClose:function(){return i(!1)},children:[Object(g.jsx)("p",{children:"Poeng beregnes ut fra antall ord som har blitt funnet. Hvert ord gir ulike poengsummer."}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{children:["ord p\xe5 fire bokstaver er verdt ",Object(g.jsx)("strong",{children:"ett poeng"})]}),Object(g.jsxs)("li",{children:["hver bokstave etter fire er verdt ",Object(g.jsx)("strong",{children:"ett ekstra poeng"})]}),Object(g.jsxs)("li",{children:["ord som bruker alle bokstavene minst en gang (et pangram) gir"," ",Object(g.jsx)("strong",{children:"syv ekstra poeng"})]})]}),Object(g.jsx)("h3",{children:"Eksempel"}),Object(g.jsxs)("p",{children:["H\xa0I\xa0K\xa0L\xa0O\xa0S\xa0",Object(g.jsx)("strong",{children:"T"})]}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{children:[Object(g.jsx)("strong",{children:"hist"})," er 4 poeng"]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("strong",{children:"hittil"})," er 6 poeng"]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("strong",{children:"holistisk"})," er (9 + 7) = 16 poeng"]})]})]}):null}),[o]),u=100*n/c,b=u>=70;return Object(g.jsxs)("div",{className:Ve.a.container,children:[Object(g.jsxs)("div",{className:Ve.a.bars,children:[Object(g.jsx)("span",{className:Ve.a.currentPoints,children:n}),Object(g.jsx)("div",{className:[Ve.a.progressBarContainer,b&&Ve.a.genius].filter(Boolean).join(" "),title:"".concat(n," av ").concat(c," poeng"),id:"points-progress",children:Object(g.jsx)("div",{className:Ve.a.progress,style:{width:"".concat(u.toFixed(2),"%")}})}),Object(g.jsx)("span",{className:Ve.a.totalPoints,children:c})]}),Object(g.jsx)("button",{onClick:function(){return i(!0)},className:Ve.a.help,"aria-label":"poeng hjelp",children:Object(g.jsx)(j.c,{})}),l]})},$e=n(52),et=n.n($e),tt=n(68),nt=n.n(tt),rt=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useMemo)((function(){return!!n&&Object(g.jsxs)(fe,{title:"\xabHva er disse ordene?\xbb",onClose:function(){return c(!1)},children:[Object(g.jsxs)("p",{children:["Ordene som brukes her kommer fra den"," ",Object(g.jsx)("a",{href:"https://www.nb.no/sprakbanken/ressurskatalog/oai-nb-no-sbr-5/",target:"_blank",rel:"noopener noreferrer",children:"Norske ordbanken"}),". Alle ord finnes, men noen ord blir sjelden (eller aldri) sett i det virkelige liv."]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("a",{href:"mailto:evancharlton+humle@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"Skriv en e-post"})," ","hvis du finner et galt ord \ud83d\ude00"]})]})}),[n]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{onClick:function(){return c(!0)},className:nt.a.button,"aria-label":"funnet ord hjelp",children:Object(g.jsx)(j.c,{})}),a]})},ct=n(61),at=n.n(ct),st=function(){var e=ie(),t=e.revealed,n=e.revealAnswers,c=Object(r.useState)(!1),a=Object(d.a)(c,2),s=a[0],o=a[1],i=ae().found,l=K().words.length-i.length,u=Object(r.useMemo)((function(){return s?Object(g.jsxs)(fe,{title:"Er du ferdig?",onClose:function(){return o(!1)},children:[Object(g.jsx)("h2",{children:"Avdekke alle ordene?"}),Object(g.jsxs)("p",{children:["N\xe5r du er ferdig, kan du vise alle ordene. Du har ",l," ord som gjenst\xe5r!"]}),Object(g.jsx)("div",{className:at.a.revealContainer,children:Object(g.jsx)("button",{onClick:function(){n(),o(!1)},children:"Jeg er ferdig!"})}),Object(g.jsxs)("p",{children:["Hvis du vil forsette \xe5 s\xf8ke, klikk p\xe5 ",Object(g.jsx)("strong",{children:"\xabLukk\xbb"})," ","nedenfor."]})]}):null}),[s,o,l,n]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{className:at.a.reveal,disabled:t,onClick:function(){return o(!0)},"aria-label":"Avdekke alle ordene",children:Object(g.jsx)(j.a,{})}),u]})},ot=n(53),it=n.n(ot),lt=function(e){return e.currentTarget.blur()},ut=function(e){var t=e.children,n=!te().found[t],r=ne(t);return Object(g.jsx)("a",{className:[it.a.word,n&&it.a.revealed,r&&it.a.pangram].filter(Boolean).join(" "),href:"https://naob.no/s%C3%B8k/".concat(encodeURIComponent(t)),target:"_blank",rel:"noopener noreferrer",onClick:lt,children:t},t)},dt=function(){var e=ie().revealed,t=K().words,n=ae().found,c=Object(r.useMemo)((function(){return(e?t:n).map((function(e){return Object(g.jsx)(ut,{children:e},e)}))}),[n,e,t]);return Object(g.jsxs)("div",{className:et.a.container,children:[Object(g.jsxs)("div",{className:et.a.buttons,children:[Object(g.jsx)(rt,{}),Object(g.jsx)(st,{})]}),Object(g.jsx)("div",{className:et.a.wordList,children:c})]})},jt=n(62),bt=n.n(jt),ft=function(){return Object(g.jsxs)("div",{className:bt.a.column,children:[Object(g.jsx)("div",{className:bt.a.header,children:Object(g.jsx)(qe,{})}),Object(g.jsx)(Xe,{}),Object(g.jsx)(dt,{})]})},ht=function(){return Object(g.jsxs)("div",{className:ze.a.container,children:[Object(g.jsx)(Ie,{}),Object(g.jsxs)("div",{className:ze.a.gameContainer,children:[Object(g.jsxs)("div",{className:ze.a.buttonsContainer,children:[Object(g.jsx)(He,{}),Object(g.jsx)(le,{})]}),Object(g.jsx)(ft,{})]})]})},Ot=function(){var e=y().gameHash;return Object(g.jsx)(x.a,{children:Object(g.jsx)(x.a,{children:Object(g.jsx)(ee,{children:Object(g.jsx)(ht,{})})},e)})},vt=function(){return Object(g.jsx)(o.a,{children:Object(g.jsxs)(i.c,{children:[Object(g.jsx)(i.a,{path:"/",exact:!0,children:Object(g.jsx)(Ot,{})}),Object(g.jsx)(i.a,{path:"/:gameId",children:Object(g.jsx)(Ot,{})})]})})},gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(vt,{})}),document.getElementById("root")),gt()}},[[87,1,2]]]);
//# sourceMappingURL=main.fd71bc15.chunk.js.map