(this["webpackJsonpstaver-humle"]=this["webpackJsonpstaver-humle"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={container:"Buttons_container__1Zt8k",guess:"Buttons_guess__2Anft",letterButton:"Buttons_letterButton__1mMw1",centerLetter:"Buttons_centerLetter__35133",letterButtons:"Buttons_letterButtons__3XtpL",controls:"Buttons_controls__vjaFF"}},,function(e,t,n){e.exports={grid:"Grid_grid__1BRwy",border:"Grid_border__20nNQ",letter:"Grid_letter__FpcEt",filler:"Grid_filler__1NEAc"}},,,function(e,t,n){e.exports={header:"Modal_header__2ZLRN",footer:"Modal_footer__3LLGM",contents:"Modal_contents__2N7hF",modalBackground:"Modal_modalBackground__gT2gd",modal:"Modal_modal__lEGX8"}},,,function(e,t,n){e.exports={container:"Hive_container__1Zjua",gameContainer:"Hive_gameContainer__23RNb",buttonsContainer:"Hive_buttonsContainer__3BlGP",column:"Hive_column__uIVAh"}},,,function(e,t,n){e.exports={container:"Progress_container__2gTl_",bars:"Progress_bars__3T60p",help:"Progress_help__17CCm"}},,,,,function(e,t,n){e.exports={container:"Loading_container__3Q6Jl",ldsRipple:"Loading_ldsRipple__3LZlq"}},,,,,function(e,t,n){e.exports={wordList:"Found_wordList__kw6ut"}},function(e,t,n){e.exports={button:"InfoButton_button__2T6f3"}},function(e,t,n){e.exports={header:"Header_header__Yh4QF"}},function(e,t,n){e.exports={container:"ErrorDisplay_container__2V7dW"}},,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),s=n.n(c),o=n(27),a=n.n(o),i=(n(41),n(42),n(13)),l=n(3),u=function(e){return e<10?"0".concat(e):e},j=function(){var e=Object(l.f)();return Object(c.useEffect)((function(){var t=new Date;e.replace("/".concat([t.getFullYear(),t.getMonth()+1,t.getDate()].map(u).join("-")))}),[e]),null},d=n(2),b=n(29),h=function(e){return fetch(e,{headers:{"Content-Type":"application/json","Content-Encoding":"gzip"}}).then((function(e){return e.arrayBuffer()})).then((function(e){return new Uint8Array(e)})).then((function(e){return b.a.inflate(e)})).then((function(e){return new TextDecoder("utf-8").decode(e)})).then((function(e){return JSON.parse(e)}))},O=function(e){for(var t=0,n=0;n<e.length;n+=1){t=31*t+e.charCodeAt(n)}return t},f=function(){var e=Object(l.g)().gameId;return{gameId:e,gameHash:O(e)}},x=function(){Object(c.useEffect)((function(){return document.body.classList.add("no-scroll"),function(){document.body.classList.remove("no-scroll")}}),[])},g=n(25),v=n.n(g),m=function(){return x(),Object(r.jsx)("div",{className:v.a.container,children:Object(r.jsxs)("div",{className:v.a.ldsRipple,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})},p=Object(c.createContext)({centerLetter:"",outerLetters:["","","","","",""],all:""}),_=function(e){var t=e.children,n=f().gameHash,s=Object(c.useState)(""),o=Object(d.a)(s,2),a=o[0],i=o[1],l=Object(c.useState)(),u=Object(d.a)(l,2),j=u[0],b=u[1];if(Object(c.useEffect)((function(){h("".concat("/staver-humle","/words/options.json.gz")).then((function(e){return e[n%e.length]})).then(i).catch((function(e){console.error(e),b(e)}))}),[n]),j)return Object(r.jsx)("div",{children:"Error!"});if(!a)return Object(r.jsx)(m,{});var O=a.split(""),x=O[n%O.length],g=O.filter((function(e){return e!==x}));return Object(r.jsx)(p.Provider,{value:{centerLetter:x,outerLetters:g,all:a},children:t})},k=function(){return Object(c.useContext)(p)},N=Object(c.createContext)({words:[]}),C=function(e){var t=e.children,n=k(),s=n.all,o=n.centerLetter,a=Object(c.useState)([]),i=Object(d.a)(a,2),l=i[0],u=i[1],j=Object(c.useState)(),b=Object(d.a)(j,2),O=b[0],f=b[1];return Object(c.useEffect)((function(){var e=s.substring(0,3),t="".concat("/staver-humle","/words/").concat(e,".json.gz");h(t).then((function(e){return e[s]})).then((function(e){return e.filter((function(e){return e.includes(o)}))})).then(u).catch(f)}),[s,o]),O?Object(r.jsx)("pre",{children:O.message}):0===l.length?Object(r.jsx)(m,{}):Object(r.jsx)(N.Provider,{value:{words:l},children:t})},w=function(){return Object(c.useContext)(N)},L=n(19),y=n(10),B=function(e){return{score:Object(c.useMemo)((function(){return e.map((function(e){return 4===e.length?1:e.length<7?e.length:(7===new Set(e.split("")).size?7:0)+e.length})).reduce((function(e,t){return e+t}),0)}),[e])}},S=function(){return Object(c.useContext)(ue)},E=n(30),F=n.n(E),M=function(){var e=S().found,t=Object(c.useMemo)((function(){return Object.keys(e.reduce((function(e,t){return Object(y.a)(Object(y.a)({},e),{},Object(L.a)({},t,!0))}),{}))}),[e]);return Object(r.jsx)("ul",{className:F.a.wordList,children:t.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://naob.no/s%C3%B8k/".concat(encodeURIComponent(e)),target:"_blank",rel:"noopener noreferrer",children:e})},e)}))})},H=n(35),T=n(8),G=function(e){return e.map((function(e){return{sort:Math.random(),value:e}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value}))},R=n(9),I=n.n(R),P=function(){var e=S().onGuess,t=k(),n=t.all,s=t.centerLetter,o=t.outerLetters,a=Object(c.useState)(""),i=Object(d.a)(a,2),l=i[0],u=i[1],j=Object(c.useState)([]),b=Object(d.a)(j,2),h=b[0],O=b[1],f=Object(c.useRef)("");f.current=l,Object(c.useEffect)((function(){f.current="",O(G(o))}),[o,O,f]);var x=Object(c.useCallback)((function(){e(f.current),u("")}),[e,f]),g=Object(c.useCallback)((function(e){var t=e.currentTarget.getAttribute("data-letter");u((function(e){return"".concat(e).concat(t)}))}),[u]),v=Object(c.useCallback)((function(){O(G(o))}),[O,o]),m=Object(c.useCallback)((function(){u((function(e){return e.substr(0,e.length-1)}))}),[u]),p=Object(c.useCallback)((function(e){var t=e.key;if("Backspace"!==t){if(" "===t)return v(),void e.preventDefault();"Enter"===t&&x(),n.includes(t.toLocaleLowerCase())&&u((function(e){return"".concat(e).concat(t)}))}else u((function(e){return e.substring(0,e.length-1)}))}),[n,x,v]);Object(c.useEffect)((function(){return document.addEventListener("keydown",p),function(){document.removeEventListener("keydown",p)}}),[p]);var _=function(e){var t=e.letter,n=e.className,c=Object(H.a)(e,["letter","className"]);return Object(r.jsx)("button",Object(y.a)(Object(y.a)({"data-letter":t,onClick:g,className:[I.a.letterButton,n].filter(Boolean).join(" ")},c),{},{children:t}))},N=function(e){return Object(r.jsx)(_,Object(y.a)(Object(y.a)({},e),{},{className:I.a.centerLetter}))};return Object(r.jsxs)("div",{className:I.a.container,children:[Object(r.jsx)("div",{className:I.a.guess,children:l}),Object(r.jsxs)("div",{className:I.a.letterButtons,children:[Object(r.jsxs)("div",{className:I.a.topRow,children:[Object(r.jsx)(_,{letter:h[0]}),Object(r.jsx)(_,{letter:h[1]})]}),Object(r.jsxs)("div",{className:I.a.middleRow,children:[Object(r.jsx)(_,{letter:h[2]}),Object(r.jsx)(N,{letter:s}),Object(r.jsx)(_,{letter:h[3]})]}),Object(r.jsxs)("div",{className:I.a.bottomRow,children:[Object(r.jsx)(_,{letter:h[4]}),Object(r.jsx)(_,{letter:h[5]})]})]}),Object(r.jsxs)("div",{className:I.a.controls,children:[Object(r.jsx)("button",{onClick:m,children:Object(r.jsx)(T.d,{})}),Object(r.jsx)("button",{onClick:v,children:Object(r.jsx)(T.f,{})}),Object(r.jsx)("button",{onClick:x,children:Object(r.jsx)(T.e,{})})]})]})},A=n(20),D=n.n(A),z=n(14),J=n.n(z),W=function(e){var t=e.children,n=e.title,s=e.onClose,o=Object(c.useRef)(null);return Object(c.useEffect)((function(){o.current&&o.current.focus()}),[o]),x(),Object(r.jsx)("div",{className:J.a.modalBackground,children:Object(r.jsxs)("div",{className:J.a.modal,children:[Object(r.jsxs)("div",{className:J.a.header,children:[Object(r.jsx)("h2",{children:n}),Object(r.jsx)("button",{onClick:s,ref:o,children:Object(r.jsx)(T.a,{})})]}),Object(r.jsx)("div",{className:J.a.contents,children:t}),Object(r.jsx)("div",{className:J.a.footer,children:Object(r.jsx)("button",{onClick:s,children:"Lukk"})})]})})},Z=function(){var e=S().found,t=w().words,n=B(e).score,s=B(t).score,o=Object(c.useState)(!1),a=Object(d.a)(o,2),i=a[0],l=a[1],u=Object(c.useMemo)((function(){return i?Object(r.jsxs)(W,{title:"Poeng",onClose:function(){return l(!1)},children:[Object(r.jsx)("p",{children:"Poengene beregnes ut fra hvor mange ord som blir funnet. Hvert ord har ulike poengsummer."}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["ord p\xe5 fire bokstaver er verdt ",Object(r.jsx)("strong",{children:"ett poeng"})]}),Object(r.jsxs)("li",{children:["hver bokstave etter fire er verdt ",Object(r.jsx)("strong",{children:"ett ekstra poeng"})]}),Object(r.jsxs)("li",{children:["ord som bruker alle bokstavenve minst en gang (et pangram) gir"," ",Object(r.jsx)("strong",{children:"syv ekstra poeng"})]})]}),Object(r.jsx)("h3",{children:"Eksempel"}),Object(r.jsxs)("p",{children:["H\xa0I\xa0K\xa0L\xa0O\xa0S\xa0",Object(r.jsx)("strong",{children:"T"})]}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:"hist"})," er 4 poeng"]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:"hittil"})," er 6 poeng"]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:"holistisk"})," er (9 + 7) = 16 poeng"]})]})]}):null}),[i]);return Object(r.jsxs)("div",{className:D.a.container,children:[Object(r.jsxs)("div",{className:D.a.bars,children:[Object(r.jsx)("progress",{id:"word-progress",max:t.length,value:e.length}),Object(r.jsxs)("label",{htmlFor:"word-progress",children:["Ord: ",e.length," / ",t.length]}),Object(r.jsx)("progress",{id:"points-progress",max:s,value:n}),Object(r.jsxs)("label",{htmlFor:"points-progress",children:["Poeng: ",n," / ",s]})]}),Object(r.jsx)("button",{onClick:function(){return l(!0)},className:D.a.help,children:Object(r.jsx)(T.b,{})}),u]})},Q=n(31),Y=n.n(Q),U=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],o=Object(c.useMemo)((function(){return n?Object(r.jsxs)(W,{title:"Staver Humle!",onClose:function(){return s(!1)},children:[Object(r.jsx)("p",{children:"Staver Humle er et ordspill hvor du lage s\xe5 mange ord som du kan. Hvert puslespill har syv ulike bokstaver\u2014en fast i midten og seks rundt."}),Object(r.jsx)("h3",{children:"Reglene"}),Object(r.jsxs)("p",{children:["Hvert ord:",Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:"m\xe5 bruke"})," den midterste bokstaven"]}),Object(r.jsxs)("li",{children:["v\xe6re minst ",Object(r.jsx)("strong",{children:"fire bokstaver"})," lange"]}),Object(r.jsxs)("li",{children:["bruker ",Object(r.jsx)("strong",{children:"bare"})," de syv bokstavene",Object(r.jsx)("br",{}),"(men bokstaver kan gjentas)"]})]})]}),Object(r.jsxs)("p",{children:["Hver puslespill har ",Object(r.jsx)("strong",{children:"minst ett"})," ord som bruker"," ",Object(r.jsx)("strong",{children:"alle bokstavene"}),"."]}),Object(r.jsxs)("p",{children:["Det er en ny puslespill ",Object(r.jsx)("strong",{children:"hver dag!"})]}),Object(r.jsx)("p",{children:"Lykke til!"}),Object(r.jsx)("p",{children:Object(r.jsxs)("em",{children:["(Want to play in English? Try the"," ",Object(r.jsx)("a",{href:"https://www.nytimes.com/puzzles/spelling-bee",target:"_blank",rel:"noopener noreferrer",children:"NYT Spelling Bee"}),"!)"]})})]}):null}),[n]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){return s(!0)},className:Y.a.button,children:Object(r.jsx)(T.c,{})}),o]})},V=n(32),X=n.n(V),q=function(){return Object(r.jsxs)("div",{className:X.a.header,children:[Object(r.jsx)("h1",{children:Object(r.jsx)(i.b,{to:"/",children:"Staver Humle \ud83d\udc1d"})}),Object(r.jsx)(U,{})]})},K=function(e){var t="";switch(e.reason){case"already-found":t="ordet har blitt allerede funnet";break;case"invalid-letters":t="bruker ugyldige bokstaver";break;case"missing-center":t="mangler obligatorisk brev";break;case"too-short":t="for kort";break;case"unknown-word":t="ukjent ord";break;default:return null}return Object(r.jsx)("span",{children:t})},$=n(33),ee=n.n($),te=function(){var e=S().badGuess,t=Object(c.useState)(),n=Object(d.a)(t,2),s=n[0],o=n[1];return Object(c.useEffect)((function(){if(e){o(e.reason);var t=setTimeout((function(){o(void 0)}),2500);return function(){clearTimeout(t)}}o(void 0)}),[e]),Object(r.jsx)("div",{className:ee.a.container,children:s&&Object(r.jsx)(K,{reason:s})})},ne=n(11),re=n.n(ne),ce=Object(r.jsx)("span",{className:re.a.filler,children:"\u2013"}),se=function(){for(var e=w().words,t=k().all,n=e.reduce((function(e,t){var n=Object(d.a)(e,2),r=n[0],c=n[1];return[Math.min(r,t.length),Math.max(c,t.length)]}),[1e3,3]),c=Object(d.a)(n,2),s=c[0],o=c[1],a=[Object(r.jsx)("th",{children:"\xa0"},"blank")],i=[],l=function(t){a.push(Object(r.jsx)("th",{children:t},t));var n=e.filter((function(e){return e.length===t})).length;i.push(Object(r.jsx)("td",{children:n||ce},"total @ ".concat(t)))},u=s;u<=o;u+=1)l(u);a.push(Object(r.jsx)("th",{children:"\u03a3"},"column-sum"));for(var j=[],b=function(n){for(var c=t[n],a=e.filter((function(e){return e[0]===c})),i=[Object(r.jsx)("td",{className:[re.a.border,re.a.letter].join(" "),children:c},c)],l=function(e){var t=a.filter((function(t){return t.length===e})).length;i.push(Object(r.jsx)("td",{children:t||ce},"".concat(c," @ ").concat(e)))},u=s;u<=o;u+=1)l(u);i.push(Object(r.jsx)("td",{className:re.a.border,children:a.length||ce},"".concat(c," @ total"))),j.push(Object(r.jsx)("tr",{children:i},"row-".concat(c)))},h=0;h<t.length;h+=1)b(h);return j.push(Object(r.jsxs)("tr",{className:re.a.border,children:[Object(r.jsx)("td",{children:"\u03a3"}),i,Object(r.jsx)("td",{children:e.length})]},"row-totals")),Object(r.jsxs)("table",{className:re.a.grid,children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{className:re.a.border,children:a})}),Object(r.jsx)("tbody",{children:j})]})},oe=n(17),ae=n.n(oe),ie=n(34),le=function(){var e=f().gameId,t="saved/".concat(e),n=Object(c.useState)([]),r=Object(d.a)(n,2),s=r[0],o=r[1],a=Object(c.useCallback)((function(e){o((function(n){var r=[].concat(Object(ie.a)(n),[e]).sort();return localStorage.setItem(t,JSON.stringify(r)),r}))}),[o,t]);return Object(c.useEffect)((function(){o(function(e){try{var t=localStorage.getItem(e);if(t){var n=JSON.parse(t);if(Array.isArray(n))return n.filter((function(e){return"string"===typeof e}))}}catch(r){}return[]}(t))}),[t,o]),{found:s,addFoundWord:a}},ue=Object(c.createContext)({found:[],onGuess:function(){},badGuess:void 0}),je=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],s=t[1],o=k(),a=o.all,i=o.centerLetter,l=w().words,u=le(),j=u.found,b=u.addFoundWord,h=Object(c.useCallback)((function(e){s(e?{reason:e,etag:Date.now()}:void 0)}),[s]),O=Object(c.useCallback)((function(e){if(e){var t=e.toLocaleLowerCase().split("").filter((function(e){return a.includes(e)})).join("");t.length===e.length?t.length<4?h("too-short"):t.includes(i)?j.includes(t)?h("already-found"):l.includes(t)?(b(t),h(void 0)):h("unknown-word"):h("missing-center"):h("invalid-letters")}}),[a,i,j,l,b,h]);return Object(r.jsx)(ue.Provider,{value:{found:j,onGuess:O,badGuess:n},children:Object(r.jsxs)("div",{className:ae.a.container,children:[Object(r.jsx)(q,{}),Object(r.jsxs)("div",{className:ae.a.gameContainer,children:[Object(r.jsxs)("div",{className:ae.a.buttonsContainer,children:[Object(r.jsx)(te,{}),Object(r.jsx)(P,{})]}),Object(r.jsxs)("div",{className:ae.a.column,children:[Object(r.jsx)(Z,{}),Object(r.jsx)(M,{}),Object(r.jsx)(se,{})]})]})]})})},de=function(){return Object(r.jsx)(_,{children:Object(r.jsx)(C,{children:Object(r.jsx)(je,{})})})},be=function(){return Object(r.jsx)(i.a,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/",exact:!0,children:Object(r.jsx)(j,{})}),Object(r.jsx)(l.a,{path:"/:gameId",children:Object(r.jsx)(de,{})})]})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),s(e),o(e)}))};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(be,{})}),document.getElementById("root")),he()}],[[48,1,2]]]);
//# sourceMappingURL=main.f45f6428.chunk.js.map